<template>
    <div class="slds-card slds-var-m-around_small">
        <div class="slds-var-p-around_small">
            <div class="slds-grid slds-gutters">
                <div title="PJ" class="slds-box">
                    <h3 class="slds-text-heading_medium">PJ</h3>
                    <div class="">
                        <lightning-input onchange={handleInputChange} type="number" name="input-pj-val-mensal"  value={input_pj_val_mensal}     label="Valor Mensal (Bruto)" formatter="currency" step="0.01"></lightning-input>
                        <lightning-input onchange={handleInputChange} type="number" name="input-pj-imposto"     value={input_pj_imposto}        label="Desconto (imposto)" formatter="percent" step="0.01"></lightning-input>
                        <lightning-input onchange={handleInputChange} type="number" name="input-pj-meses"       value={input_pj_meses}          label="Meses a receber"></lightning-input>
                    </div>
                </div>
                <div title="CLT" class="slds-box">
                    <h3 class="slds-text-heading_medium">CLT</h3>
                    <div class="">
                        <lightning-input onchange={handleInputChange} type="number" name="input-clt-val-mensal" value={input_clt_val_mensal}    label="Valor Mensal (Bruto)" formatter="currency" step="0.01"></lightning-input>
                        <lightning-input onchange={handleInputChange} type="number" name="input-clt-imposto"    value={input_clt_imposto}       label="Desconto (IRRF+INSS)" formatter="percent" step="0.01"></lightning-input>
                        
                        <lightning-button class="slds-var-p-top_small" variant="neutral" label="Adicionar Beneficio" onclick={handleAddBeneficioClick} icon-name="utility:new" slot="actions"></lightning-button>
                        
                        <h3 class="slds-text-heading_medium">Beneficios</h3>
                        <div class="slds-grid">
                            <template for:each={listBeneficios} for:item="beneficio">
                                <div key={beneficio.id} class="slds-grid">
                                    <c-calc-pj-clt-benefits beneficio-id={beneficio.id} id={beneficio.id}
                                        onbeneficiochanged={handleChangedBeneficio}
                                        title={beneficio.title} 
                                        beneficio-value={beneficio.beneficioValue} 
                                        selected-period-option={beneficio.selectedPeriodOption} 
                                        onremovedbeneficio={handleRemovedBeneficio}>
                                    </c-calc-pj-clt-benefits>
                                </div>
                            </template>
                        </div>
                    </div>
                </div>
            </div>
            <div class="slds-box">
                <c-calc-pj-clt-summary form-data={formData}></c-calc-pj-clt-summary>
            </div>
        </div>
    </div>
</template>